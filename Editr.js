var Editr=function(a){var b=document.createElement("canvas");b.setAttribute("width",a.width);b.setAttribute("height",a.height);var c=b.getContext("2d");c.drawImage(a,0,0);var d=origData=c.getImageData(0,0,a.width,a.height);c.grayScale=function(){var a=d.data;var b=a.length;for(var e=0;e<b;e+=4){var f=(a[e]+a[e+1]+a[e+2])/3;d.data[e]=f;d.data[e+1]=f;d.data[e+2]=f}return c};c.sepia=function(){var a=d.data;var b=a.length;for(var e=0;e<b;e+=4){var f=a[e]*.393+a[e+1]*.769+a[e+2]*.189;var g=a[e]*.349+a[e+1]*.686+a[e+2]*.168;var h=a[e]*.272+a[e+1]*.534+a[e+2]*.131;d.data[e]=f;d.data[e+1]=g;d.data[e+2]=h}return c};c.invert=function(){var a=d.data;var b=a.length;for(var e=0;e<b;e+=4){d.data[e]=255-a[e];d.data[e+1]=255-a[e+1];d.data[e+2]=255-a[e+2]}return c};c.monoRed=function(){var a=d.data;var b=a.length;for(var e=0;e<b;e+=4){d.data[e+1]=0;d.data[e+2]=0}return c};c.monoGreen=function(){var a=d.data;var b=a.length;for(var e=0;e<b;e+=4){d.data[e]=0;d.data[e+2]=0}return c};c.monoBlue=function(){var a=d.data;var b=a.length;for(var e=0;e<b;e+=4){d.data[e]=0;d.data[e+1]=0}return c};c.replace=function(){c.putImageData(d,0,0);a.setAttribute("src",c.canvas.toDataURL("image/png"))};c.dataURL=function(){return c.canvas.toDataURL("image/png")};return c}