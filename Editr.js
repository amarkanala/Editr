var Editr=function(a){var c=document.createElement("canvas"),d,e;return c.setAttribute("width",a.width),c.setAttribute("height",a.height),d=c.getContext("2d"),d.drawImage(a,0,0),e=d.getImageData(0,0,a.width,a.height),d.grayScale=function(){var a=e.data,b=a.length,c,f;for(c=0;c<b;c+=4)f=(a[c]+a[c+1]+a[c+2])/3,e.data[c]=f,e.data[c+1]=f,e.data[c+2]=f;return d.putImageData(e,0,0),d},d.sepia=function(){var a=e.data,b=a.length,c,f,g,h;for(c=0;c<b;c+=4)f=a[c]*.393+a[c+1]*.769+a[c+2]*.189,g=a[c]*.349+a[c+1]*.686+a[c+2]*.168,h=a[c]*.272+a[c+1]*.534+a[c+2]*.131,e.data[c]=f,e.data[c+1]=g,e.data[c+2]=h;return d.putImageData(e,0,0),d},d.invert=function(){var a=e.data,b=a.length,c;for(c=0;c<b;c+=4)e.data[c]=255-a[c],e.data[c+1]=255-a[c+1],e.data[c+2]=255-a[c+2];return d.putImageData(e,0,0),d},d.monoRed=function(){var a=e.data,b=a.length,c;for(c=0;c<b;c+=4)e.data[c+1]=0,e.data[c+2]=0;return d.putImageData(e,0,0),d},d.monoGreen=function(){var a=e.data,b=a.length,c;for(c=0;c<b;c+=4)e.data[c]=0,e.data[c+2]=0;return d.putImageData(e,0,0),d},d.monoBlue=function(){var a=e.data,b=a.length,c;for(c=0;c<b;c+=4)e.data[c]=0,e.data[c+1]=0;return d.putImageData(e,0,0),d},
d.rotate=function(){
	var a=document.createElement("img");
	return a.setAttribute("src",d.canvas.toDataURL("image/png")),d.translate(a.width,a.height),d.rotate(Math.PI),d.drawImage(a,0,0,a.width,a.height),d},
	
	d.flipHorizontal=function(){var a=document.createElement("img");return a.setAttribute("src",d.canvas.toDataURL("image/png")),d.translate(a.width,0),d.scale(-1,1),d.drawImage(a,0,0,a.width,a.height),d},d.replace=function(){a.setAttribute("src",d.canvas.toDataURL("image/png"))},d.dataURL=function(){return d.canvas.toDataURL("image/png")},d}